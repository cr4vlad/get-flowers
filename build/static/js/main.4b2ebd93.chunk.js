(this["webpackJsonpget-flowers"]=this["webpackJsonpget-flowers"]||[]).push([[0],{38:function(e,t,a){e.exports=a.p+"static/media/getflowers.c696a5b9.svg"},42:function(e,t,a){e.exports=a(76)},47:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),l=(a(47),a(32)),i=a(33),s=a(41),m=a(40),u=a(3),g=a(10),d=a(7);a(52);var p=function(e){var t=e.product;return t?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"img-block"},r.a.createElement("img",{alt:t.title,src:t.logo})),r.a.createElement("h3",{className:"title"},t.title),r.a.createElement("div",{className:"price-line"},r.a.createElement("p",null," ",t.price," \u0433\u0440\u043d"),r.a.createElement("button",{className:"order"},"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"))):r.a.createElement("p",{className:"loading"},"Loading product...")};a(53);var E=function(e){var t=e.category,a=e.products;return t&&a?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.b,{to:"/category/".concat(t.id)},r.a.createElement("h2",{className:"landing"},t.title)),r.a.createElement("div",{className:"grid-container--landing"},a.slice(0,3).map((function(e){return r.a.createElement(p,{key:e.title,product:e})}))),r.a.createElement(u.b,{to:"/category/".concat(t.id)},r.a.createElement("p",{className:"category-link"},t.title))):(console.log("LandingCategory props.category:",t),console.log("LandingCategory props.products:",a),r.a.createElement("p",{className:"loading"},"Loading category..."))};var f=Object(d.b)((function(e,t){return{category:e.data.categories.filter((function(e){return e.id===t.id})),products:e.data.products[t.id]}}),null)((function(e){return r.a.createElement(E,{category:e.category[0],products:e.products})}));a(55);var v=function(e){var t=e.categories;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hero-image"},r.a.createElement("div",{className:"hero-content-wrapper"},r.a.createElement("p",{className:"hero-content"},"\u0421\u0432\u0435\u0436\u0438\u0435 \u0446\u0432\u0435\u0442\u044b",r.a.createElement("br",null),"\u041a\u0440\u0443\u0433\u043b\u043e\u0441\u0443\u0442\u043e\u0447\u043d\u0430\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"))),r.a.createElement("article",null,t.map((function(e){return r.a.createElement(f,{key:e.id,id:e.id})})))):r.a.createElement("p",{className:"loading"},"Loading categories...")};var h=Object(d.b)((function(e){return{categories:e.data.categories}}),null)((function(e){return e.categories?r.a.createElement(v,{categories:e.categories}):r.a.createElement("p",null,"Loading...")})),y=a(22);a(56);var N=function(e){var t=e.title,a=e.products;return t&&a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hero-image"}),r.a.createElement("article",null,r.a.createElement("h2",{className:"category"},t),r.a.createElement("div",{className:"grid-container--category"},a.map((function(e){return r.a.createElement(p,{key:e.title,product:e})}))))):(console.log("props.title:",t),console.log("props.products:",a),r.a.createElement("p",{className:"loading"},"Loading category..."))};var b=Object(d.b)((function(e,t){return{products:e.data.products[t.match.params.categoryId],category:e.data.categories.filter((function(e){return e.id===t.match.params.categoryId}))}}),null)((function(e){if(e.category[0]&&e.category[0].title&&e.products){var t=e.category[0].title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement("title",null,"".concat(t," | Get Flowers")),r.a.createElement("meta",{name:"description",content:t})),r.a.createElement(N,{title:t,products:e.products}))}return console.log("props.category[0]:",e.category[0]),console.log("props.products:",e.products),r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{title:"Loading category... | Get Flowers"}),r.a.createElement("p",{className:"loading"},"Loading category..."))}));var w=function(){return r.a.createElement(g.c,null,r.a.createElement(g.a,{exact:!0,path:"/",component:h}),r.a.createElement(g.a,{exact:!0,path:"/category/:categoryId",component:b}),r.a.createElement(g.a,null,"404 Page not found"))},O=(a(57),a(38)),k=a.n(O);var j=function(e){return e.categories?r.a.createElement("header",{role:"banner"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"nav--desktop"},r.a.createElement("h1",null,r.a.createElement(u.b,{to:"/"},r.a.createElement("img",{src:k.a,alt:"GetFlowers",className:"title"}))),r.a.createElement("div",{className:"menu"},e.categories.map((function(e){return r.a.createElement("div",{key:e.id,className:"category"},r.a.createElement(u.b,{to:"/category/".concat(e.id),className:"link"},e.title))})))))):r.a.createElement("p",null,"Loading categories...")};var F=Object(d.b)((function(e){return{categories:e.data.categories}}),null)((function(e){return e.categories?r.a.createElement(j,{categories:e.categories}):(console.log("NavbarContainer props.categories:",e.categories),r.a.createElement("p",null,"Loading categories..."))}));a(58);var L=function(e){return r.a.createElement("footer",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"block"},r.a.createElement("div",{className:"title"},"\u0420\u0430\u0437\u0434\u0435\u043b\u044b \u0421\u0430\u0439\u0442\u0430"),r.a.createElement("hr",null),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.b,{to:"/",className:"link"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),e.categories&&e.categories.map((function(e){return r.a.createElement(u.b,{key:e.id,to:"/category/".concat(e.id),className:"link"},e.title)})))),r.a.createElement("div",{className:"block"},r.a.createElement("div",{className:"title"},"\u041e \u041d\u0430\u0441"),r.a.createElement("hr",null),r.a.createElement("div",{className:"title"},r.a.createElement("p",null,"\u0414\u0430\u0440\u0438\u0442\u044c \u0446\u0432\u0435\u0442\u044b - \u044d\u0442\u043e \u043a\u0440\u0430\u0441\u0438\u0432\u043e, \u0430 \u0434\u0430\u0440\u0438\u0442\u044c \u0446\u0432\u0435\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0440\u0430\u0432\u044f\u0442\u0441\u044f \u0432\u0441\u0435\u043c - \u044d\u0442\u043e \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u043f\u043e\u0434\u043d\u044f\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044e! \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u0440\u0435\u0448\u0438\u0432 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0431\u0443\u043a\u0435\u0442 \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0445 \u0446\u0432\u0435\u0442\u043e\u0432 - \u0437\u0430\u043a\u0430\u0436\u0438\u0442\u0435 \u0438\u0445 \u0443 \u043d\u0430\u0441!"),r.a.createElement("p",null,"\u041c\u044b \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u0446\u0432\u0435\u0442\u044b \u043f\u043e \u0432\u0441\u0435\u0439 \u0423\u043a\u0440\u0430\u0438\u043d\u0435, \u0430 \u0432 \u041a\u0438\u0435\u0432\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430\u0448 \u043a\u0440\u0443\u043f\u043d\u044b\u0439 \u0446\u0432\u0435\u0442\u043e\u0447\u043d\u044b\u0439 \u043c\u0430\u0433\u0430\u0437\u0438\u043d. \u041d\u0430\u0448\u0430 \u043a\u0443\u0440\u044c\u0435\u0440\u0441\u043a\u0430\u044f \u0441\u043b\u0443\u0436\u0431\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0446\u0432\u0435\u0442\u043e\u0432 \u0432 \u041a\u0438\u0435\u0432\u0435 GetFlowers \u0441 \u0443\u0434\u043e\u0432\u043e\u043b\u044c\u0441\u0442\u0432\u0438\u0435\u043c \u0438 \u0432 \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442 \u0430\u0434\u0440\u0435\u0441\u043d\u0443\u044e \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0443 \u0446\u0432\u0435\u0442\u043e\u0432 \u0432 \u043d\u0443\u0436\u043d\u044b\u0439 \u0440\u0430\u0439\u043e\u043d \u0433\u043e\u0440\u043e\u0434\u0430 \u0432\u0441\u0435\u0433\u043e \u0437\u0430 2 \u0447\u0430\u0441\u0430!"),r.a.createElement(u.b,{to:"/",className:"link copyright"},"\xa9 Copyright GetFlowers 2020"))),r.a.createElement("div",{className:"block"},r.a.createElement("div",{className:"title"},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),r.a.createElement("hr",null),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"line"},"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430: ",r.a.createElement("a",{href:"mailto:2getflowers@gmail.com",className:"email"},"2getflowers@gmail.com")),r.a.createElement("p",{className:"line"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d: +380667778899")))))};var _=Object(d.b)((function(e){return{categories:e.data.categories}}),null)((function(e){return e.categories?r.a.createElement(L,{categories:e.categories}):(console.log("FooterContainer props.categories:",e.categories),r.a.createElement("p",null,"Loading footer..."))}));function I(){var e=Object(g.f)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var C=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement(I,null),r.a.createElement(F,null),r.a.createElement(w,null),r.a.createElement(_,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=a(11),G=a(39),P=a(23),x={categories:[],products:{},deliveryInfo:{}},S=function(e,t){return Object(P.a)({},e,{products:t.products,categories:t.categories})},D=function(e,t){return Object(P.a)({},e,{deliveryInfo:t.deliveryInfo})},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return S(e,t);case"SET_DELIVERY_INFO":return D(e,t);default:return e}},U=a(16),B=a.n(U),J="http://localhost:8000/api",V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.d,W=Object(T.c)({data:R}),X=Object(T.e)(W,V(Object(T.a)(G.a)));X.dispatch((function(e){console.log("fetchProducts start"),B.a.get("".concat(J,"/categories/")).then((function(t){var a=t.data.results;B.a.get("".concat(J,"/products/")).then((function(t){var n=a.map((function(e){return[e.id,t.data.results.filter((function(t){return t.category===e.id}))]})),r=Object.fromEntries(n);console.log("categories dispatching to redux state:",a),console.log("products dispatching to redux state:",r),e(function(e,t){return{type:"GET_PRODUCTS",categories:e,products:t}}(a,r))})).catch((function(e){console.log("fetchProducts error while getting products, status",e.response)}))})).catch((function(e){console.log("fetchProducts error while getting categories, status",e.response)}))})),o.a.render(r.a.createElement(d.a,{store:X},r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.4b2ebd93.chunk.js.map